# Tables
(ref:Table1Caption) Summary of sablefish biological data collected. Tally of fork lengths (FL), round weight (RW), upper jaw length (UJ),  eye diameter (ED), interorbital distance (ID), snout length (SL)), post orbital to preoperculum distance (PP), post orbital head length (PH), females (F), males (M), sagittal otoliths (O) and operculum clips (DNA) listed by survey.

```{r table1, echo=FALSE}

  sample   <- paste("select  CASE WHEN TRIP_ID = 0 THEN 'Salmon' WHEN trip_id = 80378 THEN '2016 WCHG'  ",
                    " ELSE '2016 WCVI ' END AS Survey, SUM(FL) AS FL, SUM(WR) AS WR, SUM(UJ) AS UJ, SUM(ED) AS ED,",
                    " SUM(ID) AS ID, SUM(SL) AS SL, SUM(PP) AS PP, SUM(PH) AS PH, SUM(F) AS F, SUM(M) AS M, SUM(O) AS Otoliths,  ",
                    " SUM(D) AS DNA, SUM(FL) AS Total  FROM    ",       
                    " (SELECT   TRIP_ID, CASE WHEN Fork_Length > 0 THEN 1 ELSE 0 END AS FL, CASE WHEN Whole_Round_Weight > 0 THEN 1 ELSE 0 END AS WR, ",
                    " CASE WHEN Upper_jaw_length > 0 THEN 1 ELSE 0 END AS UJ,  CASE WHEN Eye_Diameter > 0 THEN 1 ELSE 0 END AS ED, ",
                    " CASE WHEN InterOrbital_distance > 0 THEN 1 ELSE 0 END AS ID, CASE WHEN Snout_length > 0 THEN 1 ELSE 0 END AS SL, ",
                    " CASE WHEN Postorbital_Preoperculum > 0 THEN 1 ELSE 0 END AS PP, CASE WHEN Post_orbital_Head_length > 0 THEN 1 ELSE 0 END AS PH, ",
                    " CASE WHEN SPECIMEN_SEX_DESC = 'FEMALE' THEN 1 ELSE 0 END AS F, CASE WHEN SPECIMEN_SEX_DESC = 'MALE' THEN 1 ELSE 0 END AS M, ",
                    " CASE WHEN Otoliths_Collected = 'Y' THEN 1 ELSE 0 END AS O,  CASE WHEN DNA_Collected = 'Y' THEN 1 ELSE 0 END AS D  ",
                    " FROM    dbo.Head_Measurements_Report) AS Samples ",
                    " GROUP BY CASE WHEN TRIP_ID = 0 THEN 'Salmon' WHEN trip_id = 80378  ",
                    " THEN '2016 WCHG' ELSE '2016 WCVI ' END", sep="")
   #samplecnt <-    GetSQLData(sample,"Sablefish")  # -- head details
   #write.table(samplecnt , file = paste(path,"Table1.csv", sep=''), row.names=FALSE, na="",col.names=TRUE,  sep=",")
   samplecnt <- read.csv(paste(path,'Table1.csv',sep=''),header=T)  # read from csv

   kableExtra::kable(samplecnt, booktabs = TRUE,
                     format = "latex",
                     caption = "(ref:Table1Caption)") 
  # kableExtra::kable_styling(font_size = 8, position = "center") %>%
  #                           add_header_above(c(" "= 3,
  #                           "Cranial measurements" = 6, 
  #                           "Sex" = 2,
  #                           " " = 3))

```
\clearpage
\ \
\ \
(ref:Table2Caption) Head dimensions measured and caliper jaw positions.
\ \
\ \

```{r table2, echo=FALSE}
     options(knitr.kable.NA = '')
     graph_directory <- 'C:/github/sablehead/figures/'
     
     df   <-  read.csv("c:/github/sablehead/standalone/table2.csv", header=T)
     names(df)  <- c("Head dimension","Head description","Caliper jaw position")

     # Change to names of my local images
     #df$Image = c(paste(graph_directory,'ca.png',sep=''),
      #            paste(graph_directory,'Figure2b.png',sep=''),
      #            paste(graph_directory,'Figure2c.png',sep=''),
      #            paste(graph_directory,'Figure2d.png',sep=''),
      #            paste(graph_directory,'Figure2e.png',sep=''),
      #            paste(graph_directory,'Figure2f.png',sep=''))
     
     # Add appropriate rmarkdown tagging
     #df$Image <- sprintf('![](%s){width=50px}', df$Image)
     
     kableExtra::kable(df, booktabs = TRUE, format = "latex", 
                           caption = "(ref:Table2Caption)") %>%  
     kableExtra::kable_styling(full_width = T, latex_options="scale_down") %>%
                      column_spec(3, width  = "2.5cm") %>%
                      column_spec(1, width  = "1.1cm") %>%
                      column_spec(2, width  = "1.6cm")
     
```





\clearpage